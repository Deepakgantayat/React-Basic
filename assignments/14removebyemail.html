<!Doctype html>
<html>
    <head>
        <title>Remove by Email Form</title>
    </head>
    <body>
        <div id="root">
           

        </div>
        <script src="./js/react.development.js"></script>
        <script src="./js/react-dom.development.js"></script>
        <script src="./js/babel.js"></script>

        <script type="text/babel">
            const rootHandle=document.getElementById('root')

            class UserDetails extends React.Component{
                constructor(){
                    super()
                    this.state={
                       users:[
                        {id:1,name:'saikat',email:'sunny@gmail.com'},
                        {id:2,name:'abhra',email:'abhra@gmail.com'},
                        {id:3,name:'indrajit',email:'indrajit@gmail.com'}
                        ],
                        email:''
                        
                    }
                }

                handleEmailChange=(e)=>{
                    const email=e.target.value
                    //console.log(email)
                    this.setState({email})
                }

                handleSubmit=(e)=>{
                    e.preventDefault()
                    const formData={
                        email:this.state.email
                    }
                    this.setState((prevState)=>{
                        return{
                        users:prevState.users.filter(user=>user.email!=formData.email),
                        email:''
                        }
                        
                    })
                }

                render(){
                    //console.log(this.state)
                    return(
                        <div>
                        <h2>user Details---{this.state.users.length}</h2>
                        <table border="1">
                        <thead>
                        <tr>
                        <th>ID</th>
                        <th>NAME</th>
                        <th>EMAIL</th>
                        </tr>
                        </thead>
                        <tbody>
                        {
                            this.state.users.map((user)=>{
                                return(
                                    <tr key={user.id}>
                                    <td>{user.id}</td>
                                    <td>{user.name}</td>
                                    <td>{user.email}</td>
                                    </tr>
                                )
                            })
                        }
                        </tbody>
                        </table>
                        <br />
                        <form onSubmit={this.handleSubmit}>
                        <label>Enetr The Email:
                        <input type="text" value={this.state.email} onChange={this.handleEmailChange}/>
                        </label>&nbsp;&nbsp;
                        <input type="submit" />
                        </form>
                        </div>
                    )
                }
            }
        ReactDOM.render(<UserDetails />,rootHandle)
        
        </script>
    </body>
    </html>